{"ast":null,"code":"import store from \"@/store/index.js\";\nimport { ElMessageBox, ElMessage } from \"element-plus\";\nexport default {\n  name: \"DeletedToDoView\",\n  data: function data() {\n    return {\n      isShowBottom: false,\n      currentLi: 0\n    };\n  },\n  store: store,\n  computed: {\n    isNull: function isNull() {\n      if (store.state.deletedToDoLists.length !== 0) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    deletedToDoList: function deletedToDoList() {\n      return store.state.deletedToDoLists;\n    }\n  },\n  methods: {\n    getFocus: function getFocus($event, index) {\n      this.isShowBottom = true;\n      this.currentLi = index;\n    },\n    removeFocus: function removeFocus() {\n      this.isShowBottom = false;\n      this.currentLi = null;\n    },\n    // 还原\n    reset: function reset(index) {\n      store.commit(\"resetToDoFromRush\", {\n        index: index\n      });\n      ElMessage({\n        message: \"记事已还原\",\n        center: true,\n        type: \"success\"\n      });\n    },\n    // 永久删除\n    foreverDelete: function foreverDelete(index) {\n      store.commit(\"foreverDelete\", {\n        index: index\n      });\n      ElMessage({\n        message: \"记事已永久删除\",\n        center: true,\n        type: \"success\"\n      });\n    },\n    // 清空回收站\n    clearAllDeletedTo: function clearAllDeletedTo() {\n      ElMessageBox.confirm(\"要清空回收站吗？此操作会永久删除回收站中的所有记事\", \"提示\", {\n        confirmButtonText: \"清空回收站\",\n        cancelButtonText: \"取消\",\n        type: \"info\"\n      }).then(function () {\n        store.commit(\"clearAllDelete\");\n        ElMessage({\n          type: \"success\",\n          message: \"回收站已清空\"\n        });\n      })[\"catch\"](function () {\n        ElMessage({\n          type: \"info\",\n          message: \"取消清空\"\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAmGA,OAAOA,KAAP,MAAkB,kBAAlB;AACA,SAASC,YAAT,EAAuBC,SAAvB,QAAwC,cAAxC;AACA,eAAe;AACbC,MAAI,EAAE,iBADO;AAEbC,MAFa,kBAEN;AACL,WAAO;AACLC,kBAAY,EAAE,KADT;AAELC,eAAS,EAAE;AAFN,KAAP;AAID,GAPY;AAQbN,OAAK,EAALA,KARa;AASbO,UAAQ,EAAE;AACRC,UADQ,oBACC;AACP,UAAIR,KAAK,CAACS,KAAN,CAAYC,gBAAZ,CAA6BC,MAA7B,KAAwC,CAA5C,EAA+C;AAC7C,eAAO,KAAP;AACF,OAFA,MAEO;AACL,eAAO,IAAP;AACF;AACD,KAPO;AAQRC,mBARQ,6BAQU;AAChB,aAAOZ,KAAK,CAACS,KAAN,CAAYC,gBAAnB;AACD;AAVO,GATG;AAqBbG,SAAO,EAAE;AACPC,YADO,oBACEC,MADF,EACUC,KADV,EACiB;AACtB,WAAKX,YAAL,GAAoB,IAApB;AACA,WAAKC,SAAL,GAAiBU,KAAjB;AACD,KAJM;AAKPC,eALO,yBAKO;AACZ,WAAKZ,YAAL,GAAoB,KAApB;AACA,WAAKC,SAAL,GAAiB,IAAjB;AACD,KARM;AASP;AACAY,SAVO,iBAUDF,KAVC,EAUM;AACXhB,WAAK,CAACmB,MAAN,CAAa,mBAAb,EAAkC;AAAEH,aAAK,EAAEA;AAAT,OAAlC;AACAd,eAAS,CAAC;AACRkB,eAAO,EAAE,OADD;AAERC,cAAM,EAAE,IAFA;AAGRC,YAAI,EAAE;AAHE,OAAD,CAAT;AAKD,KAjBM;AAkBP;AACAC,iBAnBO,yBAmBOP,KAnBP,EAmBc;AACnBhB,WAAK,CAACmB,MAAN,CAAa,eAAb,EAA8B;AAAEH,aAAK,EAAEA;AAAT,OAA9B;AACAd,eAAS,CAAC;AACRkB,eAAO,EAAE,SADD;AAERC,cAAM,EAAE,IAFA;AAGRC,YAAI,EAAE;AAHE,OAAD,CAAT;AAKD,KA1BM;AA2BP;AACAE,qBA5BO,+BA4Ba;AAClBvB,kBAAY,CAACwB,OAAb,CACE,2BADF,EAEE,IAFF,EAGE;AACEC,yBAAiB,EAAE,OADrB;AAEEC,wBAAgB,EAAE,IAFpB;AAGEL,YAAI,EAAE;AAHR,OAHF,EASGM,IATH,CASQ,YAAM;AACV5B,aAAK,CAACmB,MAAN,CAAa,gBAAb;AACAjB,iBAAS,CAAC;AACRoB,cAAI,EAAE,SADE;AAERF,iBAAO,EAAE;AAFD,SAAD,CAAT;AAID,OAfH,WAgBS,YAAM;AACXlB,iBAAS,CAAC;AACRoB,cAAI,EAAE,MADE;AAERF,iBAAO,EAAE;AAFD,SAAD,CAAT;AAID,OArBH;AAsBD;AAnDM;AArBI,CAAf","names":["store","ElMessageBox","ElMessage","name","data","isShowBottom","currentLi","computed","isNull","state","deletedToDoLists","length","deletedToDoList","methods","getFocus","$event","index","removeFocus","reset","commit","message","center","type","foreverDelete","clearAllDeletedTo","confirm","confirmButtonText","cancelButtonText","then"],"sourceRoot":"","sources":["D:\\yqwwant\\.vscode\\.vscode\\TodoList记事本\\src\\views\\DeletedToDoView.vue"],"sourcesContent":["<template>\n  <div class=\"contentDiv\" v-if=\"isNull\">\n    <div class=\"noContentDiv\">\n      <!--回收站无内容-->\n      <el-icon style=\"font-size: 50px\"><delete /></el-icon>\n      <p>回收站中没有任何记事</p>\n    </div>\n  </div>\n  <div v-else>\n    <el-button type=\"text\" style=\"float: right\" @click=\"clearAllDeletedTo\"\n      >清空回收站</el-button\n    >\n    <!--展示回收站内容-->\n    <el-row>\n      <el-col\n        v-for=\"(deletedItem, index) in deletedToDoList\"\n        :key=\"deletedItem\"\n        :span=\"6\"\n        :offset=\"index > 0 ? 2 : 0\"\n        @mouseenter=\"getFocus($event, index)\"\n        @mouseleave=\"removeFocus($event)\"\n      >\n        <el-card :body-style=\"{ padding: '0px' }\" shadow=\"hover\">\n          <div style=\"padding: 14px\">\n            <div class=\"header\">\n              <h2>{{ deletedItem.title }}</h2>\n            </div>\n            <div class=\"content\">\n              {{ deletedItem.content }}\n            </div>\n            <div class=\"tag\">\n              <el-tag\n                v-for=\"tag of deletedItem.toDoTags\"\n                :key=\"tag.name\"\n                type=\"\"\n                class=\"mx-1\"\n                size=\"small\"\n              >\n                {{ tag.name }}\n              </el-tag>\n            </div>\n            <div class=\"bottom\">\n              <div>\n                <p class=\"todoTime\" :class=\"(new Date(deletedItem.toDoTime).getTime() <\n                      new Date().getTime())?'line-through':''\">\n                    {{ deletedItem.toDoTime }}\n                </p>\n                <el-icon\n                  class=\"alert-icon\"\n                  v-if=\"\n                    deletedItem.toDoTime !== '' && deletedItem.toDoTime !== null\n                  \"\n                  ><clock/>\n              </el-icon>\n              </div>\n              <div v-show=\"isShowBottom && currentLi === index\">\n                <el-popover\n                  placement=\"bottom-start\"\n                  title=\"\"\n                  :width=\"150\"\n                  trigger=\"hover\"\n                  content=\"永久删除\"\n                >\n                  <template #reference>\n                    <el-button\n                      class=\"button-icon\"\n                      size=\"small\"\n                      circle\n                      @click=\"foreverDelete(index)\"\n                    >\n                      <el-icon\n                        ><delete-filled\n                      /></el-icon> </el-button></template\n                ></el-popover>\n                <el-popover\n                  placement=\"bottom-start\"\n                  title=\"\"\n                  :width=\"150\"\n                  trigger=\"hover\"\n                  content=\"还原\"\n                >\n                  <template #reference\n                    ><el-button\n                      class=\"button-icon\"\n                      size=\"small\"\n                      circle\n                      @click=\"reset(index)\"\n                    >\n                      <el-icon><sell /></el-icon> </el-button></template\n                ></el-popover>\n              </div>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\nimport store from \"@/store/index.js\";\nimport { ElMessageBox, ElMessage } from \"element-plus\";\nexport default {\n  name: \"DeletedToDoView\",\n  data() {\n    return {\n      isShowBottom: false,\n      currentLi: 0,\n    };\n  },\n  store,\n  computed: {\n    isNull() {\n      if (store.state.deletedToDoLists.length !== 0) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    deletedToDoList() {\n      return store.state.deletedToDoLists;\n    },\n  },\n  methods: {\n    getFocus($event, index) {\n      this.isShowBottom = true;\n      this.currentLi = index;\n    },\n    removeFocus() {\n      this.isShowBottom = false;\n      this.currentLi = null;\n    },\n    // 还原\n    reset(index) {\n      store.commit(\"resetToDoFromRush\", { index: index });\n      ElMessage({\n        message: \"记事已还原\",\n        center: true,\n        type: \"success\",\n      });\n    },\n    // 永久删除\n    foreverDelete(index) {\n      store.commit(\"foreverDelete\", { index: index });\n      ElMessage({\n        message: \"记事已永久删除\",\n        center: true,\n        type: \"success\",\n      });\n    },\n    // 清空回收站\n    clearAllDeletedTo() {\n      ElMessageBox.confirm(\n        \"要清空回收站吗？此操作会永久删除回收站中的所有记事\",\n        \"提示\",\n        {\n          confirmButtonText: \"清空回收站\",\n          cancelButtonText: \"取消\",\n          type: \"info\",\n        }\n      )\n        .then(() => {\n          store.commit(\"clearAllDelete\");\n          ElMessage({\n            type: \"success\",\n            message: \"回收站已清空\",\n          });\n        })\n        .catch(() => {\n          ElMessage({\n            type: \"info\",\n            message: \"取消清空\",\n          });\n        });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.contentDiv {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.noContentDiv {\n  position: absolute;\n  text-align: center;\n  font-size: 30px;\n  color: gray;\n  height: 500px;\n  width: 100%;\n  top: 70%;\n  margin-top: -250px;\n}\n.button-icon {\n  margin-right: 1px;\n}\n.el-tag {\n  margin-right: 10px;\n}\n.todoTime {\n  float: right;\n  font-size: 14px;\n}\n.alert-icon {\n  float: right;\n}\n.header,\n.content,\n.tag,\n.bottom {\n  margin-bottom: 10px;\n}\n.line-through {\n  text-decoration: line-through;\n  color: gray;\n}\n</style>"]},"metadata":{},"sourceType":"module"}