{"ast":null,"code":"import _objectSpread from \"D:/yqwwant/.vscode/.vscode/TodoList\\u8BB0\\u4E8B\\u672C/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _defineProperty from \"D:/yqwwant/.vscode/.vscode/TodoList\\u8BB0\\u4E8B\\u672C/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { defineComponent, inject, resolveComponent, openBlock, createElementBlock, Fragment, mergeProps, createCommentVNode, createElementVNode, createBlock, withCtx, resolveDynamicComponent, renderSlot } from 'vue';\nimport '../../roving-focus-group/index.mjs';\nimport '../../collection/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../../constants/index.mjs';\nimport { dropdownItemProps, DROPDOWN_COLLECTION_ITEM_INJECTION_KEY as COLLECTION_ITEM_INJECTION_KEY } from './dropdown.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY as COLLECTION_ITEM_INJECTION_KEY$1 } from '../../roving-focus-group/src/roving-focus-group.mjs';\nimport { ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY } from '../../roving-focus-group/src/tokens.mjs';\nimport { composeRefs } from '../../../utils/vue/refs.mjs';\nimport { composeEventHandlers } from '../../../utils/dom/event.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\nimport { COLLECTION_ITEM_SIGN } from '../../collection/src/collection.mjs';\n\nvar _sfc_main = defineComponent({\n  name: \"DropdownItemImpl\",\n  components: {\n    ElIcon: ElIcon\n  },\n  props: dropdownItemProps,\n  emits: [\"pointermove\", \"pointerleave\", \"click\", \"clickimpl\"],\n  setup: function setup(_, _ref) {\n    var emit = _ref.emit;\n    var ns = useNamespace(\"dropdown\");\n\n    var _inject = inject(COLLECTION_ITEM_INJECTION_KEY, void 0),\n        dropdownCollectionItemRef = _inject.collectionItemRef;\n\n    var _inject2 = inject(COLLECTION_ITEM_INJECTION_KEY$1, void 0),\n        rovingFocusCollectionItemRef = _inject2.collectionItemRef;\n\n    var _inject3 = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, void 0),\n        rovingFocusGroupItemRef = _inject3.rovingFocusGroupItemRef,\n        tabIndex = _inject3.tabIndex,\n        handleFocus = _inject3.handleFocus,\n        handleItemKeydown = _inject3.handleKeydown,\n        handleMousedown = _inject3.handleMousedown;\n\n    var itemRef = composeRefs(dropdownCollectionItemRef, rovingFocusCollectionItemRef, rovingFocusGroupItemRef);\n    var handleKeydown = composeEventHandlers(function (e) {\n      var code = e.code;\n\n      if (code === EVENT_CODE.enter || code === EVENT_CODE.space) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        emit(\"clickimpl\", e);\n        return true;\n      }\n    }, handleItemKeydown);\n    return {\n      ns: ns,\n      itemRef: itemRef,\n      dataset: _defineProperty({}, COLLECTION_ITEM_SIGN, \"\"),\n      tabIndex: tabIndex,\n      handleFocus: handleFocus,\n      handleKeydown: handleKeydown,\n      handleMousedown: handleMousedown\n    };\n  }\n});\n\nvar _hoisted_1 = [\"aria-disabled\", \"tabindex\"];\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_icon = resolveComponent(\"el-icon\");\n\n  return openBlock(), createElementBlock(Fragment, null, [_ctx.divided ? (openBlock(), createElementBlock(\"li\", mergeProps({\n    key: 0,\n    \"class\": _ctx.ns.bem(\"menu\", \"item\", \"divided\")\n  }, _ctx.$attrs), null, 16)) : createCommentVNode(\"v-if\", true), createElementVNode(\"li\", mergeProps({\n    ref: _ctx.itemRef\n  }, _objectSpread(_objectSpread({}, _ctx.dataset), _ctx.$attrs), {\n    \"aria-disabled\": _ctx.disabled,\n    \"class\": [_ctx.ns.be(\"menu\", \"item\"), _ctx.ns.is(\"disabled\", _ctx.disabled)],\n    tabindex: _ctx.tabIndex,\n    role: \"menuitem\",\n    onClick: _cache[0] || (_cache[0] = function (e) {\n      return _ctx.$emit(\"clickimpl\", e);\n    }),\n    onFocus: _cache[1] || (_cache[1] = function () {\n      return _ctx.handleFocus && _ctx.handleFocus.apply(_ctx, arguments);\n    }),\n    onKeydown: _cache[2] || (_cache[2] = function () {\n      return _ctx.handleKeydown && _ctx.handleKeydown.apply(_ctx, arguments);\n    }),\n    onMousedown: _cache[3] || (_cache[3] = function () {\n      return _ctx.handleMousedown && _ctx.handleMousedown.apply(_ctx, arguments);\n    }),\n    onPointermove: _cache[4] || (_cache[4] = function (e) {\n      return _ctx.$emit(\"pointermove\", e);\n    }),\n    onPointerleave: _cache[5] || (_cache[5] = function (e) {\n      return _ctx.$emit(\"pointerleave\", e);\n    })\n  }), [_ctx.icon ? (openBlock(), createBlock(_component_el_icon, {\n    key: 0\n  }, {\n    \"default\": withCtx(function () {\n      return [(openBlock(), createBlock(resolveDynamicComponent(_ctx.icon)))];\n    }),\n    _: 1\n  })) : createCommentVNode(\"v-if\", true), renderSlot(_ctx.$slots, \"default\")], 16, _hoisted_1)], 64);\n}\n\nvar ElDropdownItemImpl = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { ElDropdownItemImpl as default };","map":{"version":3,"mappings":"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","names":["_sfc_main","defineComponent","name","components","ElIcon","props","dropdownItemProps","emits","setup","_","emit","ns","useNamespace","inject","DROPDOWN_COLLECTION_ITEM_INJECTION_KEY","dropdownCollectionItemRef","collectionItemRef","ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY","rovingFocusCollectionItemRef","ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY","rovingFocusGroupItemRef","tabIndex","handleFocus","handleItemKeydown","handleKeydown","handleMousedown","itemRef","composeRefs","composeEventHandlers","e","code","EVENT_CODE","enter","space","preventDefault","stopImmediatePropagation","dataset","COLLECTION_ITEM_SIGN","_ctx","_createElementBlock","key","bem","_mergeProps","createCommentVNode","_createElementVNode","ref","be","is","tabindex","role","onClick","_cache","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave","_createBlock","_component_el_icon","_resolveDynamicComponent","_renderSlot","_hoisted_1"],"sources":["../../../../../../packages/components/dropdown/src/dropdown-item-impl.vue"],"sourcesContent":["<template>\n  <li\n    v-if=\"divided\"\n    :class=\"ns.bem('menu', 'item', 'divided')\"\n    v-bind=\"$attrs\"\n  ></li>\n  <li\n    :ref=\"itemRef\"\n    v-bind=\"{ ...dataset, ...$attrs }\"\n    :aria-disabled=\"disabled\"\n    :class=\"[ns.be('menu', 'item'), ns.is('disabled', disabled)]\"\n    :tabindex=\"tabIndex\"\n    role=\"menuitem\"\n    @click=\"(e) => $emit('clickimpl', e)\"\n    @focus=\"handleFocus\"\n    @keydown=\"handleKeydown\"\n    @mousedown=\"handleMousedown\"\n    @pointermove=\"(e) => $emit('pointermove', e)\"\n    @pointerleave=\"(e) => $emit('pointerleave', e)\"\n  >\n    <el-icon v-if=\"icon\"><component :is=\"icon\" /></el-icon>\n    <slot />\n  </li>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject } from 'vue'\nimport {\n  ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,\n  ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n} from '@element-plus/components/roving-focus-group'\nimport { COLLECTION_ITEM_SIGN } from '@element-plus/components/collection'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { useNamespace } from '@element-plus/hooks'\nimport { composeEventHandlers, composeRefs } from '@element-plus/utils'\nimport { EVENT_CODE } from '@element-plus/constants'\nimport {\n  DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n  dropdownItemProps,\n} from './dropdown'\n\nexport default defineComponent({\n  name: 'DropdownItemImpl',\n  components: {\n    ElIcon,\n  },\n  props: dropdownItemProps,\n  emits: ['pointermove', 'pointerleave', 'click', 'clickimpl'],\n  setup(_, { emit }) {\n    const ns = useNamespace('dropdown')\n\n    const { collectionItemRef: dropdownCollectionItemRef } = inject(\n      DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n      undefined\n    )!\n\n    const { collectionItemRef: rovingFocusCollectionItemRef } = inject(\n      ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n      undefined\n    )!\n\n    const {\n      rovingFocusGroupItemRef,\n      tabIndex,\n      handleFocus,\n      handleKeydown: handleItemKeydown,\n      handleMousedown,\n    } = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, undefined)!\n\n    const itemRef = composeRefs(\n      dropdownCollectionItemRef,\n      rovingFocusCollectionItemRef,\n      rovingFocusGroupItemRef\n    )\n\n    const handleKeydown = composeEventHandlers((e: KeyboardEvent) => {\n      const { code } = e\n      if (code === EVENT_CODE.enter || code === EVENT_CODE.space) {\n        e.preventDefault()\n        e.stopImmediatePropagation()\n        emit('clickimpl', e)\n        return true\n      }\n    }, handleItemKeydown)\n\n    return {\n      ns,\n      itemRef,\n      dataset: {\n        [COLLECTION_ITEM_SIGN]: '',\n      },\n      tabIndex,\n      handleFocus,\n      handleKeydown,\n      handleMousedown,\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}